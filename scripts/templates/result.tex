\begin{table*}[t]
    \centering
    \small
    \newcolumntype{Z}{>{\centering\arraybackslash}X}
    \caption{Results comparing model alternatives. Performance on cropped \emph{Step} diagrams is denoted by S and entire \emph{Pages} from the manual by P. For fair comparison, the backbone for encoders is kept the same and only the loss and post-processing are varied. \textsc{CosSim} uses cosine similarity loss and CLIP uses infoNCE loss on paired features.}
    \resizebox{\linewidth}{!}{
        \begin{NiceTabularX}{\linewidth}{
                @{}
                w{l}{5em}
                *{4}{Z}
                |
                *{6}{Z}
                |
                *{2}{Z}
                @{}
            }
            \toprule
            \Block{3-1}{Mthod}
            & \Block{1-4}{Video to diagram retrival}
            &
            &
            &
            & \Block{1-6}{Diagram to video retrival}
            &
            &
            &
            &
            &
            & \Block{1-2}{Alignment}
            &
            \\
            & \Block{1-2}{Top1 Acc.\%$\uparrow$}
            &
            & \Block{1-2}{AIE$\downarrow$}
            &
            & \Block{1-2}{R@1$\uparrow$}
            &
            & \Block{1-2}{R@3$\uparrow$}
            &
            & \Block{1-2}{AUROC$\uparrow$}
            &
            & \Block{1-2}{Kendall$\uparrow$}
            \\
            \cmidrule(lr){2-3}\cmidrule(lr){4-5}\cmidrule(lr){6-7}\cmidrule(lr){8-9}\cmidrule(lr){10-11}\cmidrule(lr){12-13}
            & S
            & P
            & S
            & P
            & S
            & P
            & S
            & P
            & S
            & P
            & S
            & P
            \\
            \midrule
            Random
            & 5.664
            & 5.107
            & 9.334
            & 8.131
            & 6.576
            & 3.393
            & 19.90
            & 10.16
            & 0.375
            & 0.244
            & 0
            & 0
            \\
            \textsc{CosSim}
            & 11.89
            & 11.06
            & 4.360
            & 4.368
            & 12.43
            & 6.780
            & 32.90
            & 20.93
            & 0.561
            & 0.336
            & 0
            & 0
            \\
            CLIP
            & 19.61
            & 19.05
            & 4.274
            & 4.180
            & 16.94
            & 10.25
            & 38.67
            & 23.45
            & 0.590
            & 0.373
            & 0
            & 0
            \\\midrule
            Ours
            & \VAR{cr_D1["test/accuracy/top1/video/step"]}
            & \VAR{cr_D1["test/accuracy/top1/video/page"]}
            & \VAR{cr_D1["test/index_error/video/step"]}
            & \VAR{cr_D1["test/index_error/video/page"]}
            & \VAR{cr_D1["test/recall@1/video/step"]}
            & \VAR{cr_D1["test/recall@1/video/page"]}
            & \VAR{cr_D1["test/recall@3/video/step"]}
            & \VAR{cr_D1["test/recall@3/video/page"]}
            & \VAR{cr_D1["test/AUROC/video/step"]}
            & \VAR{cr_D1["test/AUROC/video/page"]}
            & \VAR{cr_D1["test/kendall/video/step"]}
            & \VAR{cr_D1["test/kendall/video/page"]}
            \\
            \quad w/o SPRF
            & \VAR{cr_D1_wo_sprf["test/accuracy/top1/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/accuracy/top1/video/page"]}
            & \VAR{cr_D1_wo_sprf["test/index_error/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/index_error/video/page"]}
            & \VAR{cr_D1_wo_sprf["test/recall@1/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/recall@1/video/page"]}
            & \VAR{cr_D1_wo_sprf["test/recall@3/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/recall@3/video/page"]}
            & \VAR{cr_D1_wo_sprf["test/AUROC/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/AUROC/video/page"]}
            & \VAR{cr_D1_wo_sprf["test/kendall/video/step"]}
            & \VAR{cr_D1_wo_sprf["test/kendall/video/page"]}
            \\
            \quad w/ DTW
            & \VAR{cr_D1["test/accuracy/top1/dtw/video/step"]}
            & \VAR{cr_D1["test/accuracy/top1/dtw/video/page"]}
            & \VAR{cr_D1["test/index_error/dtw/video/step"]}
            & \VAR{cr_D1["test/index_error/dtw/video/page"]}
            & \VAR{cr_D1["test/recall@1/dtw/video/step"]}
            & \VAR{cr_D1["test/recall@1/dtw/video/page"]}
            & \VAR{cr_D1["test/recall@3/dtw/video/step"]}
            & \VAR{cr_D1["test/recall@3/dtw/video/page"]}
            & \VAR{cr_D1["test/AUROC/dtw/video/step"]}
            & \VAR{cr_D1["test/AUROC/dtw/video/page"]}
            & \VAR{cr_D1["test/kendall/dtw/video/step"]}
            & \VAR{cr_D1["test/kendall/dtw/video/page"]}
            \\
            \quad w/ OT
            & \VAR{cr_D1["test/accuracy/top1/ot/video/step"]}
            & \VAR{cr_D1["test/accuracy/top1/ot/video/page"]}
            & \VAR{cr_D1["test/index_error/ot/video/step"]}
            & \VAR{cr_D1["test/index_error/ot/video/page"]}
            & \VAR{cr_D1["test/recall@1/ot/video/step"]}
            & \VAR{cr_D1["test/recall@1/ot/video/page"]}
            & \VAR{cr_D1["test/recall@3/ot/video/step"]}
            & \VAR{cr_D1["test/recall@3/ot/video/page"]}
            & \VAR{cr_D1["test/AUROC/ot/video/step"]}
            & \VAR{cr_D1["test/AUROC/ot/video/page"]}
            & \VAR{cr_D1["test/kendall/ot/video/step"]}
            & \VAR{cr_D1["test/kendall/ot/video/page"]}
            \\\bottomrule
        \end{NiceTabularX}
    }
    \label{tbl:result}
\end{table*}